---
TOCTitle: RMS 帐户认证
Title: RMS 帐户认证
ms:assetid: 'c9a385c5-6dbb-47f5-a80f-69718e6f9deb'
ms:contentKeyID: 18112750
ms:mtpsurl: 'https://technet.microsoft.com/zh-cn/library/Cc747750(v=WS.10)'
---

RMS 帐户认证
============

在帐户认证过程中将创建权限帐户证书，该证书将用户帐户与特定的计算机关联起来，并允许用户通过该计算机使用受 RMS 保护的内容。用户第一次发布受 RMS 保护的内容或尝试通过客户端计算机使用受 RMS 保护的内容时，支持 RMS 的应用程序将会向 RMS 帐户认证服务发送一个获取权限帐户证书的请求。

认证服务可以通过使用 Windows 身份验证或存储在硬件加密设备（如智能卡）中的 x.509 证书对用户进行身份验证。一旦用户经过身份验证，RMS 服务器就会基于用户的通过验证的凭据来为用户创建一个权限帐户证书。它还将使用客户端计算机的 RMS 计算机证书的公钥对用户的私钥进行加密，并将该经过加密的密钥添加到权限帐户证书中。随后，它会向发出请求的应用程序颁发权限帐户证书，而该应用程序将权限帐户证书存储在计算机或设备上，以备后来提出发布许可证或用户许可证请求时使用。另外，权限帐户证书还可以存储在配置数据库中。

在计算机激活过程之后即为帐户认证过程，原因在于请求权限帐户证书时需要使用客户端计算机的 RMS 计算机证书。

用户必须为其所使用的每台计算机都获取一个权限帐户证书。如果用户所使用的计算机不止一台，则将为每台计算机分别颁发一个唯一的权限帐户证书。但对该用户而言，所有计算机包含的密钥对都是相同的。

支持 RMS 的应用程序请求用户许可证时，将在请求中包括权限帐户证书。授权服务使用权限帐户证书的公钥来对内容密钥进行加密；这确保了只有通过身份验证的用户才能使用用户许可证。

帐户认证过程包括以下步骤：

1.  用户第一次发布受 RMS 保护的内容或尝试使用指定计算机上的受 RMS 保护的内容时，支持 RMS 的应用程序将会向在根认证服务器上运行的帐户认证服务发送一个获取权限帐户证书的请求。
2.  帐户认证服务使用 Windows 身份验证来验证用户的身份。
3.  帐户认证服务将基于用户的通过验证的凭据来为用户创建一个权限帐户证书。它将使用 RMS 计算机证书的公钥对用户的私钥进行加密，并将该经过加密的密钥添加到该权限帐户证书中。然后，它向发出请求的应用程序颁发权限帐户证书。
4.  该应用程序将权限帐户证书存储在计算机或设备上，以备后来提出发布许可证或用户许可证请求时使用。

客户端用于请求 RAC 的帐户认证服务取决于安装 RMS 客户端的计算机类型。标准台式机可连接至帐户认证服务 (certification.asmx)。已启用服务器服务，并将其与 RMS SP1 协同使用以接收服务器认证服务 (ServeCertfication.asmx) 颁发的 RAC。已启用移动设备，并将其与 RMS SP1 协同使用以接收移动设备认证服务 (MobileDeviceCertfication.asmx) 颁发的 RAC。默认安装 RMS SP1 时只启用了帐户认证服务。

有关将 RMS SP1 与移动设备和服务器服务协同使用的详细信息，请参阅本文档集的运行 RMS 服务器部分中的“对移动设备和服务器服务启用 RMS 服务器支持”。
