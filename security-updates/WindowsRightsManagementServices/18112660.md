---
TOCTitle: RMS 正常操作过程中的安全性
Title: RMS 正常操作过程中的安全性
ms:assetid: '98f3d584-6320-4aa1-9959-7133cfdb6df7'
ms:contentKeyID: 18112660
ms:mtpsurl: 'https://technet.microsoft.com/zh-cn/library/Cc747609(v=WS.10)'
---

RMS 正常操作过程中的安全性
==========================

安装并设置完 RMS 之后，RMS Web 服务将作为 IIS 应用程序进行运作，访问要求身份验证和授权的各种系统资源。所有的系统资源都要求进行身份验证，否则将不能进行配置。本页其余部分说明了 RMS 中的授权设计。

RMS Web 服务在 IIS 应用程序池的环境中运行。IIS 中的每个应用程序池都有唯一一个标识，该标识可能与域用户帐户、本地用户帐户、网络服务本地帐户或本地系统本地帐户相对应。这些帐户在系统中的授权等级各不相同。设置 RMS 时，可以选择以本地系统帐户或域用户帐户的身份来运行 RMS Web 服务。此时，该帐户便成为 RMS 应用程序池的应用程序池标识。对“全局管理”网站而言，应用程序池是“DRMS 应用程序池”。对设置的网站而言，应用程序池是“\_DRMSAppPool1”。RMS 日志记录服务可以作为单独的 Windows 服务，在为 RMS 应用程序池标识指定的同一帐户下运行。

RMS Web 服务需要访问的资源包括：系统中的各种文件和文件夹、数据库服务器中的数据库和存储的过程、本地注册表、Active Directory、汇编缓存、内存以及系统中运行的其他进程。此外，RMS 日志记录服务还需要访问本地系统中的日志队列。在这些资源中，每项资源都有自己的 DACL，这些 DACL 用于定义哪些用户有权访问该资源以及使用该资源可以完成哪些操作。

为简化权限分配和服务帐户管理，系统将为 RMS 在设置期间创建的本地 RMS 服务组分配必需的所有权限。由于 RMS 服务帐户属于该组，因此它拥有分配给该组的所有权限。

下表概括了授予 RMS 服务组的权限：

-   对虚拟根目录的读权限
-   对汇编缓存目录的写权限
-   对系统临时目录的写权限
-   对日志队列的写权限
-   对 Active Directory 的读权限

如果将 Microsoft SQL Server 2000 作为数据库服务器使用，则应特别注意它与 Windows Server 2003 所用的权限分配方法略有不同。设置 RMS 时，系统将为 SQL Server 上的 RMS 服务帐户创建一个登录名称。如果选择使用本地系统帐户设置 RMS，则将以 *DOMAIN\\computer\_name* 格式创建 SQL Server 登录，其中 *DOMAIN* 是计算机所属的 Active Directory 域的名称，而 *computer\_name* 是服务器的名称。在设置过程中，还将创建一个称为 rms\_service 的 SQL 角色并被授予所有必需的权限。RMS 服务帐户的登录名称将被添加到该组中。没有向 RMS 服务帐户明确授予任何权限。

另外，SQL Server 为每个数据库都分配了一个数据库所有者 (DBO)。在设置过程中，将按下列方式分配数据库所有者身份：

-   对于配置数据库，将 DBO 分配给设置 RMS 时使用的域帐户。
-   对于目录服务和日志数据库，将 DBO 分配给 RMS 服务帐户

在注重安全性的 RMS 设计过程中，为 RMS 创建的所有资源分配权限时格外谨慎。设计的系统应该考虑全面，完成设计后，应不需要修改在设置期间为任何资源分配的权限。如果需要在设置后更改服务帐户的用户帐户或密码，则可以通过 RMS“全局管理”网页来实现。有关详细信息，请参阅本文档集中的“运行 RMS 服务器”中的“更改 RMS 服务帐户”。
